define(["require","jquery","json!ekyna-form/plugins","select2","jquery/form"],function(a,b,c){"use strict";function d(a){a.each(function(){var a=b('a[href="#'+b(this).attr("id")+'"]');1===a.length&&a.tab("show")})}b.fn.select2.defaults.set("theme","bootstrap"),b.fn.select2.defaults.set("width",null),document.querySelectorAll("textarea:not(.tinymce)").forEach(function(a){a.style.boxSizing="border-box",a.style.resize="none";var b=a.offsetHeight-a.clientHeight;a.addEventListener("input",function(a){a.target.style.height="auto",a.target.style.height=a.target.scrollHeight+b+"px"})});var e=function(a,c){this.$elem=b(a),this.options=c};e.prototype={constructor:e,getElement:function(){return this.$elem},init:function(d){var e={};d&&1===d.length&&(e.dropdownParent=d),this.$elem.find("select.select2").select2(e);var f=this;b.each(c,function(c,d){var e=f.$elem;e.is(c)||(e=f.$elem.find(c)),0<e.length&&b.each(d,function(b,c){a([c],function(a){a.init(e)})})}),this.$elem.data("form",this)},destroy:function(){this.$elem.find("select.select2").select2("destroy");var d=this;b.each(c,function(c,e){var f=d.$elem;f.is(c)||(f=d.$elem.find(c)),0<f.length&&b.each(e,function(b,c){a([c],function(a){a.hasOwnProperty("destroy")&&a.destroy(f)})})})},save:function(){var d=this;b.each(c,function(c,e){var f=d.$elem;f.is(c)||(f=d.$elem.find(c)),0<f.length&&b.each(e,function(b,c){a([c],function(a){a.hasOwnProperty("save")&&a.save(f)})})})}},b(".form-with-tabs input, .form-with-tabs textarea, .form-with-tabs select").on("invalid",function(a){var c=b(a.target).eq(0).parents(".tab-pane");return c.length?void d(c):void a.preventDefault()});var f=b("form .has-error");return f.length&&d(f.eq(0).parents(".tab-pane")),{create:function(a,b){return new e(a,b)}}});